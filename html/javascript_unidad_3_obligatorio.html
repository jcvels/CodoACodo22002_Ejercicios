<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Javascript - Unidad 3</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body class="bg-dark">
        <section class="m-5 p-3 w-25 bg-light text-start bc-warning rounded">
            <h1 class="lead">Ingreso al sistema</h1>
            <form id="loginForm">
                <label class="form-label" for="user">Nombre de usuario</label>
                <input class="form-control" type="text" name="user" id="emailInput">
                <label class="form-label" for="password">Contrase√±a</label>
                <input class="form-control" type="password" name="password" id="passwordInput">
                <button class="btn btn-primary mt-3" type="submit">Ingresar</button>
                <div class="alert alert-danger mt-3" style="display: none;" id="alert"></div>
            </form>
        </section>
        <script>

            const loginForm = document.getElementById('loginForm')
            const emailInput = document.getElementById('emailInput')
            const passwordInput = document.getElementById('passwordInput')
            const alert = document.getElementById('alert')

            const showAlert = (mensaje) => {
                alert.style.display = 'block'
                alert.innerHTML += `${mensaje}<br>`
                setTimeout( () => {
                    alert.style.display = 'none'
                    alert.innerHTML = ''
                }, 3000)
            }

            emailInput.addEventListener('keyup', (e) => {
                if(e.target.value.includes('@')) {
                    emailInput.style.borderColor = '#00FF00'
                }
                else {
                    emailInput.style.borderColor = '#FF0000'
                    showAlert('El nomgre de usuario debe tener un "@".')
                }
            } )

            loginForm.addEventListener('submit', (e) => {
                e.preventDefault()
                if(emailInput.value === '')
                    showAlert('Debe completar nombre de usuario.')
                if(!emailInput.value.includes('@'))
                    showAlert('Falta @ en el nombre de usuario.')
                if(passwordInput.value === '')
                    showAlert('Debe completar el password.')
            })

        </script>
    </body>
</html>